/* 1. IMPORTS EN HAUT */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
@import "tailwindcss";

/* 2. CONFIGURATION DAISYUI */
@plugin "daisyui" {
  themes: light, dark;
  default-theme: "dark";
}

/* 3. CONFIGURATION DU THÈME */
@theme {
  --font-sans: "Inter", "ui-sans-serif", "system-ui", "sans-serif";
  
  /* -- COLOR TOKENS TAILWIND -- */
  --color-primary: #7c3aed;    /* Violet 600 (Dominant) */
  --color-secondary: #a78bfa;  /* Violet 400 */
  --color-accent: #6d28d9;     /* Violet 700 */
  --color-info: #8b5cf6;       /* Violet 500 */

  /* -- CRUCIAL : OVERRIDES DES VARIABLES DAISYUI -- */
  /* btn-primary utilise --p (background) et --pf (text). 
     Si on ne définit pas --p, il reprend la valeur bleue par défaut du thème. */
  --p: #7c3aed;       /* Force la couleur des boutons (Background) */
  --pf: #ffffff;      /* Force la couleur du texte des boutons (Foreground) */
  --pc: #ffffff;      /* Force le contenu textuel */
  --ps: #7c3aed;       /* Force la couleur d'état (Hover) */
  --pe: #c4b5fd;      /* Force la couleur d'emphase */
  
  @keyframes fade-in {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes fade-in-up {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
}

/* 4. COUCHES DE STYLES */

/* Fix global pour enlever le halo bleu au focus (Focus Ring Violet) */
@layer base {
  .btn-primary:focus-visible,
  .input-bordered:focus-visible,
  .textarea-bordered:focus-visible {
    outline: 2px solid #7c3aed;
    outline-offset: 2px;
  }
  
  .prose {
    --tw-prose-body: var(--color-base-content);
    --tw-prose-headings: var(--color-base-content);
  }

  html {
    scroll-behavior: smooth;
    font-family: var(--font-sans);
  }
}

@layer components {
  /* Scrollbar personnalisée Violette */
  ::-webkit-scrollbar { width: 8px; }
  ::-webkit-scrollbar-track { background: var(--color-base-200); }
  ::-webkit-scrollbar-thumb { 
    background: #7c3aed; /* Fix direct de la couleur */
    border-radius: 10px; 
  }
  ::-webkit-scrollbar-thumb:hover {
    background: #6d28d9;
  }

  /* Boutons de filtres personnalisés */
  .filter-btn {
    @apply px-6 py-2 rounded-full border-2 border-base-300 font-bold text-sm uppercase tracking-wider transition-all duration-300 cursor-pointer;
  }

  .filter-btn.active {
    @apply border-primary bg-primary text-primary-content scale-105 shadow-lg shadow-primary/30;
  }

  .filter-btn:hover:not(.active) {
    @apply border-primary/50 bg-primary/5 text-primary;
  }

  .animate-fade-in-up {
    animation: fade-in-up 0.6s ease-out forwards;
    opacity: 0;
  }
}

/* Gestion du loader HTMX */
.htmx-indicator {
  display: none;
}
.htmx-request .htmx-indicator, 
.htmx-request.htmx-indicator {
  display: inline-block;
}

@layer utilities {
  .animate-fade-in { animation: fade-in 0.6s ease-out; }
  
  .glass-effect {
    background: rgba(255, 255, 255, 0.03);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.05);
  }
}